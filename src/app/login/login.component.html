<!-- <form [formGroup]="loginForm" class="form flex flex-center">
  @if (!isRegister) {
    <h3>Login</h3>
  } @else {
    <h3>Registrierung</h3>
  }

  <mat-form-field class="form-field" appearance="outline">
    <mat-label>Email</mat-label>
    <input type="email" matInput formControlName="email">
    @if (loginForm.get("email")?.invalid && loginForm.get("email")?.touched) {
      <mat-error>
        Bitte gib eine gültige E-Mail ein.
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field class="form-field" appearance="outline">
      <mat-label>Password</mat-label>
      <input type="password" matInput formControlName="password">
      @if (loginForm.get("password")?.invalid && loginForm.get("password")?.touched) {
        <mat-error>
          Passwort muss mindestens 6 Zeichen lang sein.
        </mat-error>
      }
  </mat-form-field>

  <button mat-stroked-button [disabled]="loginForm.invalid" (click)="onSubmit()">
    {{ isRegister ? 'Registrieren' : 'Login' }}
  </button>

  <p>
    <a (click)="toggleMode()">
      {{ isRegister ? 'Bereits registriert? Einloggen' : 'Noch kein Konto? Registrieren' }}
    </a>
  </p>
</form> -->

<div class="login-container">
  <mat-card>
    <mat-card-title>
      @if (!isRegister) {
        <span>Login</span>
      } @else {
        <span>Registrierung</span>
      }
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" required>
          @if (loginForm.get("email")?.invalid && loginForm.get("email")?.touched) {
            <mat-error>
              Bitte gib eine gültige E-Mail ein.
            </mat-error>
          }
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password" required>
          @if (loginForm.get("password")?.invalid && loginForm.get("password")?.touched) {
            <mat-error>
              Passwort muss mindestens 6 Zeichen lang sein.
            </mat-error>
          }
        </mat-form-field>
        <div class="button-group">
          <button mat-stroked-button color="primary" [disabled]="loginForm.invalid" type="submit">
            {{ isRegister ? 'Registrieren' : 'Login' }}
          </button>
          @if (!isRegister) {
            <button mat-button color="accent" type="button" (click)="onGuestLogin()">
              Als Gast fortfahren
            </button>
          }
        </div>
      </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="toggleMode()">
        {{ isRegister ? 'Bereits registriert? Einloggen' : 'Noch kein Konto? Registrieren' }}
      </button>
    </mat-card-actions>
  </mat-card>
</div>
